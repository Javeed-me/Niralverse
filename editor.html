<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bug Hunt - Editor</title>
    <link rel="stylesheet" href="style.css">

    <!-- Monaco Editor CDN -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.min.js"></script>
    <link rel="stylesheet" data-name="vs/editor/main"
        href="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/editor/editor.main.min.css">
</head>

<body class="editor-page" oncontextmenu="return false;">
    <div class="matrix-background"></div>

    <header class="top-bar">
        <div class="timer-display" id="timerValue">00:00:00</div>
        <div class="logo-area">
            <img src="images/event logo.png" alt="Bug Hunt Logo" class="event-logo-small">
        </div>
        <div class="violation-area">
            <div class="violation-badge">Violations: <span id="violationCount">0</span></div>
        </div>
    </header>


    <div class="container arena-flow">
        <div class="panel main-panel">
            <div class="editor-wrapper">
                <!-- LEFT SIDE -->
                <div class="problem-panel">
                    <div class="problem-list-container">
                        <h3>PROBLEMS</h3>
                        <ul id="problemList" class="problem-list"></ul>
                    </div>
                    <hr>
                    <h2 id="problemTitle">Problem Title</h2>
                    <p id="problemDesc">Problem description appears here.</p>
                </div>

                <!-- RIGHT SIDE -->
                <div class="editor-panel">
                    <div id="editorContainer"></div>
                </div>
            </div>

            <div class="editor-controls">
                <button id="runBtn">Run</button>
                <button id="submitBtn">Submit Solution</button>
            </div>

            <div class="output-section">
                <h3>OUTPUT:</h3>
                <textarea id="answer" readonly placeholder="Execution output will appear here..."></textarea>
            </div>

            <div id="statusMsg" class="status-message"></div>
        </div>
    </div>

    <!-- Warning modal -->
    <div id="warningModal" class="modal">
        <div class="modal-content">
            <h3 id="warningHeader">‚ö†Ô∏è MALPRACTICE WARNING</h3>
            <p id="warningText">Violation detected.</p>
            <button id="closeModalBtn" class="modal-btn primary" onclick="onModalConfirm()">Back to Code</button>
        </div>
    </div>

    <!-- Submission Confirmation Modal -->
    <div id="confirmModal" class="modal">
        <div class="modal-content">
            <h3 style="color: var(--primary);">üöÄ CONFIRM SUBMISSION</h3>
            <p>Are you sure you want to submit this solution? This will lock the current problem.</p>
            <div style="display: flex; justify-content: center;">
                <button class="modal-btn secondary" onclick="closeConfirmModal(false)">Cancel</button>
                <button class="modal-btn primary" onclick="closeConfirmModal(true)">Submit</button>
            </div>
        </div>
    </div>

    <!-- Loading Indicator -->
    <div id="loader">
        <div class="spinner"></div>
        <p>PROCESSING...</p>
    </div>

    <script src="script.js"></script>
</body>

</html>